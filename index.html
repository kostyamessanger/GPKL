<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Скачать GPKL Лицензию</title>
</head>
<body>
    <button id="downloadBtn">Скачать GPKL Лицензию</button>

    <script>
        document.getElementById('downloadBtn').addEventListener('click', () => {
            // 1. Содержимое файлов
            const licenseHtml = `<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GPKL Лицензия</title>
</head>
<body>
    ==GPKL==

    1. Запрещено
    [Ваши запрещенные правила]

    2. Разрешено
    [Ваши разрешенные правила]
</body>
</html>`;

            const instructionTxt = 'Откройте ваш текстовый редактор и откройте License.html и добавьте свои правила в полях 1 и 2 — они отмечены цифрами.';

            // 2. Создаём ZIP-архив (используем JSZip)
            const zip = new JSZip();
            zip.file('License.html', licenseHtml);
            zip.file('инструкция.txt', instructionTxt);

            // 3. Генерируем архив и запускаем скачивание
            zip.generateAsync({type: 'blob'}).then(function(content) {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(content);
                link.download = 'GPKL Лицензия.zip';
                link.click();
                URL.revokeObjectURL(link.href);
            });
        });

        // Загружаем JSZip (без этого ZIP не создастся)
        const script = document.createElement('script');
        script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
        script.onload = () => console.log('JSZip загружен');
        document.head.appendChild(script);
    </script>
</body>
</html>
